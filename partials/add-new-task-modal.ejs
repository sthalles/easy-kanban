<!-- Modal Structure -->


<style>
  .ng-invalid.ng-touched {
    border-bottom: 1px solid #F44336;
    box-shadow: 0 1px 0 0 #F44336;
  }
  
  .ng-valid.ng-touched {
    border-bottom: 1px solid #4CAF50;
    box-shadow: 0 1px 0 0 #4CAF50;
  }
</style>

<div id="modal1" class="modal">
  <form name="taskForm" novalidate ng-submit="taskForm.$valid && createNewTask(task)">
    <div class="modal-content">
      <div class="row">
        <div class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input name="task.name" type="text" ng-model="task.name" required>
              <label for="task.name">Task Name</label>
            </div>
            <div class="input-field col s6">
              <select ng-model="task.status" required>
                <option value="1">TODO</option>
                <option value="2">DOING</option>
                <option value="3">DONE</option>
              </select>
              <label>Task initial status</label>
            </div>
          </div>
          <div class="row">
            <!--  TODO: add max size of the description textarea-->
            <div class="input-field col s12">
              <textarea name="task.description" ng-model="task.description" class="materialize-textarea" required></textarea>
              <label for="task.description">Description</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <select class="icons" ng-model="task.assignedTo" required>
                <option value="" disabled selected>Choose your option</option>
                <option value="" data-icon="http://materializecss.com/images/sample-1.jpg" class="circle">example 1</option>
                <option value="" data-icon="http://materializecss.com/images/sample-1.jpg" class="circle">example 2</option>
                <option value="" data-icon="http://materializecss.com/images/sample-1.jpg" class="circle">example 1</option>
              </select>
              <label>Assign to</label>
            </div>
            <div class="input-field col s6">
              <select ng-model="task.tag" required>
                <option value="1">Feature</option>
                <option value="2">Bug</option>
                <option value="3">Improvement</option>
              </select>
              <label>Materialize Select</label>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="modal-footer">
      <input type="submit" class="modal-action waves-effect waves-green btn-flat" value="Create">
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </form>

  <div>DEBUG: Form is {{taskForm.$valid}}</div>

</div>